<html lang="en" xmlns:th="http://www.thymeleaf.org">
<form class="container col-sm-12"
      th:fragment="list-item-editable (list, item, _csrf.parameterName, _csrf.token)"
      th:field="*{item}"
      th:action="${'/lists/' + list.id + '/items/' + item.id}"
      th:method="post"
      th:id="${'list-item-' + item.getId()}">
    <div class="col-sm-12">
        <div class="row">
            <textarea th:text="${item.description}"
              name="item"
              class="form-control col col-sm-9"
              th:id="${'item-description-' + item.id}"
              placeholder="Item description"
              maxlength="4000"
              rows="12"></textarea>
            <div class="col col-sm-1"></div>
            <div class="col col-sm-2">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button class="btn btn-primary form-control float-right"
                        th:hx-post="${'/fragments/lists/' + list.id + '/items/' + item.id}"
                        th:hx-target="${'#list-item-' + item.getId()}"
                        hx-swap="outerHTML"
                        th:hx:include="${'[item-description=''item-description-' + item.id + ''']'}"
                        type="submit">Update</button>
                <br><br>
                <button class="btn btn-danger form-control float-right"
                        th:hx-delete="${'/lists/' + list.id + '/items/' + item.id}"
                        hx-swap="delete"
                        th:hx-target="${'#list-item-' + item.getId()}">Delete</button>
                <span th:if="${toast == true}" class="badge badge-secondary">Item saved</span>
            </div>
        </div>
    </div>
    <p>&nbsp;</p>
</form>